"use strict";

var __db__ = require('__driver/db'),
	__async__ = require('__driver/myasync').async,
	__notifications__ = require("__driver/notifications"),
	__cache__ = require("__driver/cache");

/*obtener el documento marcado con un id*/

module.exports = {
	exec: function (parms) {
	  	__db__.find({
	  		condition : {
	  			_id : require("mongodb").ObjectID(parms.data[0])
	  		},
	  		collection : "survey",
	  		callback : function(error, survey){
				parms.response.writeHead(200, {"Content-Type": "application/json"});
				parms.response.end(JSON.stringify({
					item : survey[0]
				}));
	  		}
	  	});
	}
}